(this.webpackJsonpdiary=this.webpackJsonpdiary||[]).push([[0],{65:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var c=a(7),n=a.n(c),r=a(47),s=a.n(r),i=a(11),o=a(51),l=a(15),u=a(0),d=a.n(u),j=a(1),b=a(30),O=a(48),m=a(20),h={apiKey:"AIzaSyDFDR67jYxBpD_V5CgGuzfxBRtduysj3cs",authDomain:"diary-afe65.firebaseapp.com",projectId:"diary-afe65",storageBucket:"diary-afe65.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/Diary",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ID:"1:990388474534:web:a4c31a4637e3c1768bda67",REACT_APP_API_KEY:"AIzaSyDFDR67jYxBpD_V5CgGuzfxBRtduysj3cs",REACT_APP_AUTH_DOMAIN:"diary-afe65.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"990388474534",REACT_APP_PROJECT_ID:"diary-afe65",REACT_APP_STORAGE_BUCKET:"diary-afe65.appspot.com"}).REACT_MESSAGING_SENDER_ID,appId:"1:990388474534:web:a4c31a4637e3c1768bda67"},f=(Object(O.a)(h),Object(b.c)()),x=Object(m.e)(),p=a(16),v=a(19),y=a(6);function g(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),o=s[0],l=s[1],u=function(e){var t=e.target,a=t.name,c=t.value;"email"===a&&n(c),"password"===a&&l(c)},O=Object(c.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Object(b.d)(f,a,o);case 4:c=e.sent,console.log(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[a,o]);return Object(y.jsx)("form",{onSubmit:O,children:Object(y.jsxs)("div",{className:"input-form",children:[Object(y.jsxs)("div",{className:"email",children:[Object(y.jsx)("div",{className:"input-icon",children:Object(y.jsx)(p.a,{icon:v.h})}),Object(y.jsx)("input",{name:"email",type:"email",className:"authInput",placeholder:"Email",onChange:u,required:!0,autoComplete:"off"})]}),Object(y.jsxs)("div",{className:"password",children:[Object(y.jsx)("div",{className:"input-icon",children:Object(y.jsx)(p.a,{icon:v.d})}),Object(y.jsx)("input",{name:"password",type:"password",className:"authInput",placeholder:"Password",onChange:u,minLength:"8",maxLength:"16",required:!0})]}),Object(y.jsx)("button",{className:"authBtn",children:"Sign In"})]})})}var N=n.a.memo(g);function D(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),o=s[0],l=s[1],u=function(e){var t=e.target,a=t.name,c=t.value;"email"===a?n(c):"password"===a&&l(c)},O=Object(c.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Object(b.b)(f,a,o);case 4:c=e.sent,console.log(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert("\uc774\ubbf8 \uac00\uc785\ub41c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[a,o]);return Object(y.jsx)("form",{onSubmit:O,children:Object(y.jsxs)("div",{className:"input-form",children:[Object(y.jsxs)("div",{className:"email",children:[Object(y.jsx)("div",{className:"input-icon",children:Object(y.jsx)(p.a,{icon:v.h})}),Object(y.jsx)("input",{name:"email",type:"email",className:"authInput",placeholder:"Email",onChange:u,autoComplete:"off",required:!0})]}),Object(y.jsxs)("div",{className:"password",children:[Object(y.jsx)("div",{className:"input-icon",children:Object(y.jsx)(p.a,{icon:v.d})}),Object(y.jsx)("input",{name:"password",type:"password",className:"authInput",placeholder:"Password",minLength:"8",maxLength:"16",onChange:u,required:!0})]}),Object(y.jsx)("button",{className:"authBtn",children:"Sign Up"})]})})}var k=n.a.memo(D),C=a(49);function S(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new b.a,e.next=3,Object(b.e)(f,a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),s=Object(c.useCallback)((function(e){var t=e.target.className.split(" ")[0];if("sign-in"===t){if(!1===a)return;n(!1)}else if("sign-up"===t){if(!0===a)return;n(!0)}var c=document.querySelector(".menu-tap");Array.from(c.children).forEach((function(e){return e.classList.remove("selected")})),e.target.classList.add("selected")}),[a]);return Object(c.useEffect)((function(){document.querySelector(".sign-in").classList.add("selected")}),[]),Object(y.jsx)("div",{className:"wrap",children:Object(y.jsxs)("div",{className:"auth-container",children:[Object(y.jsx)("div",{className:"title",children:"D i a r y"}),Object(y.jsxs)("div",{className:"menu-tap",children:[Object(y.jsx)("div",{className:"sign-in menu",onClick:s,children:"SIGN IN"}),Object(y.jsx)("div",{className:"sign-up menu",onClick:s,children:"SIGN UP"})]}),Object(y.jsxs)("div",{className:"form-container",children:[a?Object(y.jsx)(k,{}):Object(y.jsx)(N,{}),Object(y.jsxs)("div",{className:"social-form",children:["or you can sign in with",Object(y.jsx)("div",{className:"social-icons",children:Object(y.jsxs)("button",{className:"social-icon",onClick:r,name:"google",children:["login with",Object(y.jsx)(p.a,{icon:C.a,style:{marginLeft:"10px"}})]})})]})]})]})})}var w=n.a.memo(S);function E(e){var t=e.todoDate,a=function(){window.confirm("Are you really want to Logout?")&&f.signOut()};return Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)("div",{className:"left-space",onClick:a}),Object(y.jsxs)("div",{className:"right-space",children:[Object(y.jsx)("div",{className:"click-Date",children:JSON.stringify(t.clone().add("h",9)).slice(1,11)}),Object(y.jsx)("div",{className:"logoutBtn",onClick:a,children:Object(y.jsx)(p.a,{icon:v.f})})]})]})}var _=n.a.memo(E),I=a(50);function Y(e){var t=e.userObj,a=e.todoObj,n=e.index,r=Object(c.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)(a.todo),b=Object(i.a)(u,2),O=b[0],h=b[1],f=Object(c.useState)(!1),g=Object(i.a)(f,2),N=g[0],D=g[1],k=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.h)(Object(m.d)(x,t.uid,"".concat(a.id)),{isFinish:!a.isFinish});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),""!==O){e.next=5;break}D(!0),e.next=9;break;case 5:return e.next=7,Object(m.h)(Object(m.d)(x,t.uid,"".concat(a.id)),{todo:O});case 7:D(!1),l((function(e){return!e}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure to delete this todo?")){e.next=4;break}return e.next=4,Object(m.c)(Object(m.d)(x,t.uid,"".concat(a.id)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("form",{onSubmit:C,children:[Object(y.jsx)("input",{type:"text",className:"todo-Input",value:O,onChange:function(e){h(e.target.value)},minLength:1}),Object(y.jsx)("button",{className:"todo-EventBtn",onClick:C,children:Object(y.jsx)(p.a,{icon:v.c})}),Object(y.jsx)("button",{className:"todo-EventBtn",onClick:function(){h(a.todo),D(!1),l((function(e){return!e}))},children:Object(y.jsx)(p.a,{icon:v.i})})]}),N&&Object(y.jsx)("div",{children:"Please write more than 1 word"})]}):Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(y.jsx)("h4",{onClick:k,style:a.isFinish?{color:"gray",textDecoration:"line-through"}:null,children:"".concat(n+1,". ").concat(a.todo)}),Object(y.jsx)("button",{className:"todo-EventBtn",onClick:function(){l(!o)},style:{marginLeft:"5px",height:"50%"},children:Object(y.jsx)(p.a,{icon:v.c})}),Object(y.jsx)("button",{className:"todo-EventBtn",onClick:S,style:{marginLeft:"5px",height:"50%"},children:Object(y.jsx)(p.a,{icon:v.g})})]})}var A=n.a.memo(Y);function M(e){var t=e.userObj,a=e.todoDate,n=Object(c.useState)(""),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(c){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),""!==s){e.next=3;break}return e.abrupt("return");case 3:return n={todo:s,Date:a,createdAt:Date.now(),isFinish:!1},e.prev=4,e.next=7,Object(m.a)(Object(m.b)(x,t.uid),n);case 7:e.sent,o(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error adding document: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),[s,a,t]);return Object(y.jsxs)("form",{className:"todo-Input-form",onSubmit:l,children:[Object(y.jsx)("input",{className:"todo-Input",type:"text",placeholder:" Write what will you do",onChange:function(e){o(e.target.value)},value:s}),Object(y.jsx)("button",{className:"todo-InputBtn",children:Object(y.jsx)(p.a,{icon:v.e})})]})}var T=n.a.memo(M);a(65);function P(e){var t=e.userObj,a=e.todoDate,n=Object(c.useState)([]),r=Object(i.a)(n,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){var e=Object(m.g)(Object(m.b)(x,t.uid),Object(m.i)("Date","==",a)),c=Object(m.f)(e,(function(e){var t=e.docs.map((function(e){return Object(I.a)({id:e.id},e.data())}));o(t)}));return function(){c()}}),[t,a]),Object(y.jsxs)("div",{className:"todoList-Container",children:[Object(y.jsx)(T,{userObj:t,todoDate:a}),Object(y.jsx)("div",{className:"todo-Container",children:s.map((function(e,a){return Object(y.jsx)(A,{userObj:t,todoObj:e,index:a},e.id)}))})]})}var F=n.a.memo(P),R=a(28),B=a.n(R);function L(e){var t=e.calendarYM,a=e.moveMonth;return Object(y.jsxs)("div",{className:"header-container",children:[Object(y.jsx)("span",{className:"move-button left-img icon",onClick:function(){a(-1)},children:Object(y.jsx)(p.a,{icon:v.a})}),Object(y.jsx)("h2",{className:"header-calendarYM header-middle",children:t}),Object(y.jsx)("span",{className:"move-button right-img icon",onClick:function(){a(1)},children:Object(y.jsx)(p.a,{icon:v.b})})]})}var G=n.a.memo(L),W=n.a.memo((function(e){var t=e.firstDayOfThisWeekFormat,a=e.ymOfThisCalendar,c=e.clickDate,n=e.changeDate;return Object(y.jsx)("div",{className:"calendar-week",children:function(e,t,a,c){var n=B()(t);return e.map((function(e,t){var r="date-weekday-label";return n.isSame(e.yearMonthDayFormat,"month")?0===t?r="date-sun":6===t&&(r="date-sat"):r="date-notThisMonth",B()(e.yearMonthDayFormat).isSame(a,"day")&&(r="clicked"),Object(y.jsx)("div",{className:"calendar-day "+r,onClick:function(){c(e.yearMonthDayFormat)},children:Object(y.jsx)("label",{className:"calendar-day-label",children:e.getDay})})}))}(function(e,t){for(var a=[],c=0;c<7;c++){var n=B()(e).add("d",c);a.push({yearMonthDayFormat:n.format("YYYY-MM-DD"),getDay:n.format("D"),isHolyDay:!1,weekIndex:t})}return a}(t),a,c,n)})}));function q(e){var t,a=e.dateForm,n=e.YM,r=e.clickDate,s=e.changeDate,i=Object(c.useCallback)((function(e,t,a){for(var c=B()(e).startOf("month"),n=c.get("d"),r=c.clone().add("d",-n),s=[],i=0;i<6;i++)s.push(Object(y.jsx)(W,{weekIndex:i,ymOfThisCalendar:c.format("YYYY-MM"),firstDayOfThisWeekFormat:r.clone().add("d",7*i).format("YYYY-MM-DD"),clickDate:t,changeDate:a},"calendar-week=".concat(i)));return s}),[]);return Object(y.jsxs)("div",{className:"body-container",children:[Object(y.jsx)("div",{className:"calendar-body-header",children:(t=a,t.map((function(e,t){return Object(y.jsx)("div",{className:function(){var e="calendar-date-component";return 0===t?e+" date-sun":6===t?e+" date-sat":e+" date-weekday"}(),children:e},e)})))}),Object(y.jsx)("div",{className:"calendar-body",children:i(n,r,s)})]})}var K=n.a.memo(q);a(66);function U(e){var t=e.clickDate,n=e.setClickDate,r=Object(c.useState)(t),s=Object(i.a)(r,2),o=s[0],l=s[1],u=a(67),d=Object(c.useCallback)((function(e){var t=u(o);l(t.add(e,"M"))}),[o,u]),j=Object(c.useCallback)((function(e){B()(e).isSame(t,"day")||(n(B()(e)),B()(e).isBefore(o,"Month")?d(-1):B()(e).isAfter(o,"month")&&d(1))}),[t,o,n,d]);return Object(y.jsx)("div",{className:"calendar-wrap",children:Object(y.jsxs)("div",{className:"calendar-container",children:[Object(y.jsx)(G,{calendarYM:o.format("YYYY\ub144 MM\uc6d4"),clickDate:"string"===typeof t?"\ud604\uc7ac ".concat(t):t.format("\ud604\uc7ac YYYY-MM-DD"),moveMonth:d}),Object(y.jsx)(K,{dateForm:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],YM:o.format("YYYY-MM-DD"),clickDate:t,changeDate:j})]})})}var z=n.a.memo(U);a(68);function H(e){var t=e.userObj,a=Object(c.useState)(B()()),n=Object(i.a)(a,2),r=n[0],s=n[1];return Object(y.jsx)("div",{className:"wrap",children:Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(_,{todoDate:r}),Object(y.jsxs)("div",{className:"body",children:[Object(y.jsx)(z,{clickDate:r,setClickDate:s}),Object(y.jsx)(F,{userObj:t,todoDate:JSON.stringify(r).slice(1,11)})]})]})})}var J=n.a.memo(H),V=function(e){var t=e.isLogin,a=e.userObj;return Object(y.jsx)(o.a,{children:Object(y.jsx)(l.c,{children:t?Object(y.jsx)(l.a,{path:"/Diary",exact:!0,children:Object(y.jsx)(J,{userObj:a})}):Object(y.jsx)(l.a,{path:"/Diary",exact:!0,children:Object(y.jsx)(w,{})})})})};var Q=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),s=Object(i.a)(r,2),o=s[0],l=s[1];return Object(c.useEffect)((function(){f.onAuthStateChanged((function(e){l(e||null),n(!0)}))}),[]),Object(y.jsx)(y.Fragment,{children:a?Object(y.jsx)(V,{isLogin:o,userObj:o}):Object(y.jsx)("div",{children:"Initializing..."})})};s.a.render(Object(y.jsx)(Q,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.3d29b9af.chunk.js.map